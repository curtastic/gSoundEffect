var gSoundEffect={context:new(window.AudioContext||webkitAudioContext),make:function(t){for(var e=0,n=0;n<t.length;n+=5)e+=t[n+2];var r=this.context.sampleRate,a=Math.round(r*e),o=this.context.createBuffer(1,a,r),i=o.getChannelData(0),c=new Float32Array(a),f=0,u=0,h=0,s=2*Math.PI;for(n=0;n<t.length;n+=5){u=r*t[n+3]|0,f-=Math.min(h,u),h=r*t[n+4]|0;for(var x=s*t[n]/r,v=s*t[n+1]/r,d=r*t[n+2]|0,l=n/5%2?c:i,w=0;w<d;w++){var g=w/d,M=w*(v*g+x*(1-g)),m=Math.sin(M);w<u?m*=w/u:w>d-h&&(m*=(d-w)/h),l[f++]=m}}for(n=0;n<a;n++)i[n]=(i[n]+c[n])/2;return o},play:function(t){var e=this.context.createBufferSource();if(!e)return!1;if(e.buffer=t,!e.start&&(e.start=e.noteOn,!e.start))return!1;var n=this.context.createGain();return e.connect(n),n.connect(this.context.destination),e.start(0),e}};
